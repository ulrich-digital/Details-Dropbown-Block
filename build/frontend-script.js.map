{"version":3,"file":"frontend-script.js","mappings":"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","sources":["webpack://details-dropdown-block-ud/./src/js/frontend.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n\t/* =============================================================== *\\\n\t   Dropdown-Verhalten initialisieren: jedes Dropdown durchlaufen\n\t\\* =============================================================== */\n\tdocument\n\t\t.querySelectorAll(\".details-dropdown-frontend\")\n\t\t.forEach((dropdown) => {\n\t\t\tconst toggle = dropdown.querySelector(\"[data-toggle]\");\n\t\t\tconst content = dropdown.querySelector(\"[data-content]\");\n\n\t\t\tif (!toggle || !content) return;\n\n\t\t\t/* =============================================================== *\\\n\t\t\t   Startzustand: eingeklappt, mit overflow versteckt\n\t\t\t\\* =============================================================== */\n\t\t\tcontent.style.maxHeight = \"0px\";\n\t\t\tcontent.style.overflow = \"hidden\";\n\n\t\t\t// Klick auf Toggle-Element behandelt das Ein-/Ausklappen\n\t\t\ttoggle.addEventListener(\"click\", () => {\n\t\t\t\tconst isExpanded = content.classList.contains(\"is-open\");\n\n\t\t\t\tcontent.classList.toggle(\"is-open\", !isExpanded);\n\t\t\t\ttoggle.classList.toggle(\"open\", !isExpanded);\n\n\t\t\t\t// Animate: Höhe setzen oder zurücksetzen\n\t\t\t\tif (!isExpanded) {\n\t\t\t\t\tcontent.style.maxHeight = content.scrollHeight + \"px\";\n\t\t\t\t} else {\n\t\t\t\t\tcontent.style.maxHeight = \"0px\";\n\t\t\t\t}\n\n\t\t\t\t// Event feuern, z. B. für Analytics oder Scroll-Ziele\n\t\t\t\tdropdown.dispatchEvent(\n\t\t\t\t\tnew CustomEvent(\"dropdownToggled\", { bubbles: true }),\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t/* =============================================================== *\\\n\t   Sichtbarkeit basierend auf Inhalt: nur mit echtem Text sichtbar\n\t\\* =============================================================== */\n\tdocument.querySelectorAll(\".details-dropdown-frontend\").forEach((wrapper) => {\n\t\tconst richContent = wrapper.querySelector(\".details-richtext-content\");\n\t\tconst linkList = wrapper.querySelector(\".linkliste\");\n\n\t\tlet hasRichContent = false;\n\t\tlet hasLinks = false;\n\n\t\t/* =============================================================== *\\\n\t\t   Rich Content prüfen und leere Kinder entfernen\n\t\t\\* =============================================================== */\nif (richContent) {\n\tconst children = Array.from(richContent.children);\n\tconst hasNonEmptyChild = children.some((child) => {\n\t\tconst isEmpty =\n\t\t\tchild.innerHTML.trim() === \"\" &&\n\t\t\tchild.textContent.trim() === \"\";\n\t\treturn !isEmpty;\n\t});\n\n\tif (hasNonEmptyChild) {\n\t\thasRichContent = true;\n\t}\n}\n\n\n\t\t/* =============================================================== *\\\n\t\t   Linkliste prüfen und leere <li> entfernen\n\t\t\\* =============================================================== */\n\t\tif (linkList) {\n\t\t\tArray.from(linkList.querySelectorAll(\"li\")).forEach((li) => {\n\t\t\t\tconst anchor = li.querySelector(\"a[href]\");\n\t\t\t\tconst linkText = li.textContent.trim();\n\t\t\t\tif (!anchor || linkText === \"\") {\n\t//\t\t\t\tli.remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (linkList.querySelectorAll(\"li\").length > 0) {\n\t\t\t\thasLinks = true;\n\t\t\t} else {\n\t//\t\t\tlinkList.remove();\n\t\t\t}\n\t\t}\n\n\t\t/* =============================================================== *\\\n\t\t   Sichtbarkeit des Blocks steuern\n\t\t\\* =============================================================== */\n\t\tif (hasRichContent || hasLinks) {\n\t\t\twrapper.classList.add(\"is-visible\");\n\t\t} else {\n\t\t\twrapper.classList.remove(\"is-visible\");\n\t\t\t//console.log(\"wrapper bleibt unsichtbar\");\n\t\t}\n\t});\n\n\n\n});\n"],"names":["document","addEventListener","querySelectorAll","forEach","dropdown","toggle","querySelector","content","style","maxHeight","overflow","isExpanded","classList","contains","scrollHeight","dispatchEvent","CustomEvent","bubbles","wrapper","richContent","linkList","hasRichContent","hasLinks","children","Array","from","hasNonEmptyChild","some","child","isEmpty","innerHTML","trim","textContent","li","anchor","linkText","length","add","remove"],"sourceRoot":""}